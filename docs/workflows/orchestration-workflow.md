# Agent Orchestration Workflow

## 전체 워크플로우 다이어그램

```
USER REQUEST: "픽셀 아트 플랫포머 게임 제작"
    ↓
┌─────────────────────────────────────────────────────────┐
│          PROJECT MANAGER AGENT                          │
│  1. 요구사항 분석                                         │
│  2. 작업 분해 및 할당                                     │
│  3. 품질 게이트 정의                                      │
└─────────────────────────────────────────────────────────┘
    ↓
┌─────────────────────────────────────────────────────────┐
│  PHASE 1: DESIGN (병렬 실행)                             │
├─────────────────────────────────────────────────────────┤
│  Concept Designer → 게임 메카닉 설계                      │
│  Level Designer   → 레벨 구조 설계                        │
│  Narrative Designer → 스토리 작성                        │
└─────────────────────────────────────────────────────────┘
    ↓ (Quality Gate: Design Review)
┌─────────────────────────────────────────────────────────┐
│  PHASE 2: ASSET CREATION (병렬 실행)                     │
├─────────────────────────────────────────────────────────┤
│  Asset Generator → Imagen 4로 스프라이트 생성             │
│  Style Validator → 품질 검증 (Gemini Vision)             │
│  Audio Designer  → 효과음/BGM 생성                        │
└─────────────────────────────────────────────────────────┘
    ↓ (Quality Gate: Asset Quality > 90)
┌─────────────────────────────────────────────────────────┐
│  PHASE 3: CODE GENERATION (병렬 실행)                    │
├─────────────────────────────────────────────────────────┤
│  Code Generator → ECS 기반 게임 로직 생성                 │
│  Code Reviewer  → 코드 품질 검증                          │
│  Optimizer      → 성능 최적화                             │
└─────────────────────────────────────────────────────────┘
    ↓ (Quality Gate: Code Quality > 80)
┌─────────────────────────────────────────────────────────┐
│  PHASE 4: INTEGRATION                                   │
├─────────────────────────────────────────────────────────┤
│  Build Manager   → 빌드 생성                              │
│  Asset Compiler  → 에셋 최적화                            │
└─────────────────────────────────────────────────────────┘
    ↓ (Build Success)
┌─────────────────────────────────────────────────────────┐
│  PHASE 5: QA (자동화 테스트)                              │
├─────────────────────────────────────────────────────────┤
│  Test Planner  → 테스트 케이스 생성                        │
│  Test Executor → Playwright 자동화 실행                   │
│  Bug Reporter  → 버그 리포트 생성                          │
└─────────────────────────────────────────────────────────┘
    ↓
    ├─ PASS → PHASE 6: DEPLOYMENT
    └─ FAIL → Debug Agent → 버그 수정 → 다시 QA
    ↓
┌─────────────────────────────────────────────────────────┐
│  PHASE 6: DEPLOYMENT                                    │
├─────────────────────────────────────────────────────────┤
│  Deploy Agent → Vercel 배포                               │
└─────────────────────────────────────────────────────────┘
    ↓
✅ 완성된 게임 URL 반환
```

---

## 품질 게이트 (Quality Gates)

각 Phase 종료 시 검증:

1. **Design Gate**: 컨셉이 명확하고 구현 가능한가?
2. **Asset Gate**: 에셋 품질이 상업 수준인가? (90점 이상)
3. **Code Gate**: 코드 품질이 기준을 충족하는가? (80점 이상)
4. **Build Gate**: 빌드가 성공했는가?
5. **QA Gate**: 모든 테스트가 통과했는가? (95% 이상)

---

## 의존성 관리

```
Design ────► Art ────► Code ────► Integration ────► QA ────► Deploy
                │         │             │             │
                └─────────┴─────────────┴─────────────┘
                    (병렬 실행 가능한 경우 병렬 처리)
```

---

**문서 버전:** 1.0
